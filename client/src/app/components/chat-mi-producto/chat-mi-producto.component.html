<!--PARA QUE SIEMPRE SALGA LA BARRA DE NAVEGACION DE USUARIO-->
<app-navigation-usuario></app-navigation-usuario>

<div class="row" style="margin-top: 50px;">
    <div class="col-12 col-sm-12 col-md-2 order-2 order-sm-2 order-md-1" style="padding-bottom: 10px;">
        <div>
            <button class="btn btn-warning btn-block" (click)="actualizarChats()">CHATS
                <i class="fas fa-comment-dots"></i>
            </button>
        </div>
        <div style="height: 410px; overflow-y: auto; border:solid; border-width:2px;">
            <div class="card text-center" *ngFor="let chatt of listChats">
                <div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
                    {{chatt[1]}}
                </div>
                <div class="card-body">
                    <button class="btn btn-success btn-block" (click)="abrirChat(chatt[0],chatt[1],chatt[2])">
                        <i style="font-size: 20px;" class="fas fa-comments"></i>
                    </button>
                </div>
            </div>            
        </div>
    </div>
    <div class="col-12 col-sm-12 col-md-7 order-2 order-sm-2 order-md-1">
        <div>
            <label for=""> <strong style="color: blue;">USUARIO:</strong> {{usersChat.name}}</label><br>
            <label for=""> <strong style="color: blue;">EN CONVERSACION CON:</strong> {{conversacion}} </label>
            <input type="text" class="form-control" (change)="miMensaje()" [(ngModel)]="usersChat.message" style="border: solid;" placeholder="TEXTO AQUI">
            <p> Escribe tu texto y presiona enter para enviar...</p>
        </div>
        <div class="mt-3">
            <div style="height: 300px; overflow-y: auto; border:solid; border-width:2px;" id="mc">
                <div class="media" *ngFor="let a of misMensajes">
                    <img src="{{a[2]}}" style="width: 50px; height: 50px; border-radius: 50px; margin-left: 20px; margin-top: 20px;" class="mr-3" alt="...">
                    <div class="media-body" style="padding-left: 5px; padding-top: 15px; padding-right: 15px;">
                        <p style="background-color:#5DADE2; color: white; padding: 10px;">
                            <strong style="color: black;">
                                {{a[1]}}:  
                            </strong> 
                            <br>{{a[3]}}  
                        </p>  
                        <p style="text-align: right; color: black;">
                            <small>{{a[4]}}</small>
                        </p>
                    </div>                              
                </div>
            </div>        
        </div>
    </div>
    <div class="col-12 col-sm-12 col-md-3 order-1 order-sm-1 order-md-2" style="margin-bottom: 15px;" >
        <div class="col-md-12">
          <div class="card card-body text-center">
              <h3>{{miProduct.nombre == '' ? 'NOMBRE' : miProduct.nombre}}</h3>
              <p>{{miProduct.descripcion == '' ? 'DESCRIPCION' : miProduct.descripcion}}</p>
              <img [src]="miProduct.ruta" class="card-img-top"  alt=""> <!--se ejecuta lo de arriba por el #-->  
              <p>{{miProduct.nom_cat == '' ? 'CATEGORIA' : miProduct.nom_cat}}</p>
              <p>{{miProduct.precio == 0 ? 'Q. 0.0' : miProduct.precio}}</p>
          </div>
        </div>
     </div>
</div>

